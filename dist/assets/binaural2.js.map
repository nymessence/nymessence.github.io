{"version":3,"file":"binaural2.js","sources":["../../assets/binaural2.js"],"sourcesContent":["import{z as k,R as H,O as N,U as O,V as U,L as W,P as R,I as V}from\"./three.module2.js\";const c=[[1,1,0,0],[1,-1,0,0],[-1,1,0,0],[-1,-1,0,0],[1,0,1,0],[1,0,-1,0],[-1,0,1,0],[-1,0,-1,0],[0,1,1,0],[0,1,-1,0],[0,-1,1,0],[0,-1,-1,0],[1,0,0,1],[1,0,0,-1],[-1,0,0,1],[-1,0,0,-1],[0,1,0,1],[0,1,0,-1],[0,-1,0,1],[0,-1,0,-1],[0,0,1,1],[0,0,1,-1],[0,0,-1,1],[0,0,-1,-1]],f=[];function j(e,n){let a=0;for(let t=0;t<4;t++){const o=e[t]-n[t];a+=o*o}return a}for(let e=0;e<c.length;e++)for(let n=e+1;n<c.length;n++)Math.abs(j(c[e],c[n])-2)<.01&&f.push([e,n]);function D(e,n,a){const t=Array(4).fill(0).map(()=>Array(4).fill(0));for(let o=0;o<4;o++)t[o][o]=1;return t[e][e]=Math.cos(a),t[e][n]=-Math.sin(a),t[n][e]=Math.sin(a),t[n][n]=Math.cos(a),t}function G(e,n){const a=[0,0,0,0];for(let t=0;t<4;t++)for(let o=0;o<4;o++)a[t]+=e[t][o]*n[o];return a}function J(e,n){const a=Array(4).fill(0).map(()=>Array(4).fill(0));for(let t=0;t<4;t++)for(let o=0;o<4;o++)for(let r=0;r<4;r++)a[t][o]+=e[t][r]*n[r][o];return a}function K(e){let n=e[0];for(let a=1;a<e.length;a++)n=J(n,e[a]);return n}const Q=5,y=7;function T(e,n=Q){let a=n-e[3];return a<.1&&(a=.1),new V(e[0]*n/a*y,e[1]*n/a*y,e[2]*n/a*y)}const X=[[0,1],[0,2],[0,3],[1,2],[1,3],[2,3]];let l=[0,0,0,0,0,0],L=[];for(let e=0;e<6;e++)L[e]=(Math.random()*.001+3e-4)*(Math.random()<.5?1:-1);window.addEventListener(\"DOMContentLoaded\",()=>{const e=document.getElementById(\"bgCanvas\"),n=new k({canvas:e,alpha:!0});n.setSize(window.innerWidth,window.innerHeight),n.setClearColor(0,0);const a=new H,t=new N(45,window.innerWidth/window.innerHeight,.1,1e3);t.position.set(0,0,8),t.fov=60,t.updateProjectionMatrix(),window.addEventListener(\"resize\",()=>{n.setSize(window.innerWidth,window.innerHeight),t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix()});const o=new Float32Array(f.length*2*3),r=new O;r.setAttribute(\"position\",new U(o,3));const m=new W({color:16777215,opacity:.8,transparent:!0}),C=new R(r,m);a.add(C);function q(p){const w=c.map(i=>T(G(p,i)));for(let i=0;i<f.length;i++){const[h,F]=f[i],b=w[h],g=w[F];o[i*6+0]=b.x,o[i*6+1]=b.y,o[i*6+2]=b.z,o[i*6+3]=g.x,o[i*6+4]=g.y,o[i*6+5]=g.z}r.attributes.position.needsUpdate=!0}function I(){requestAnimationFrame(I);const p=X.map((i,h)=>D(i[0],i[1],l[h])),w=K(p);q(w);for(let i=0;i<l.length;i++)l[i]+=L[i],l[i]>Math.PI*2?l[i]-=Math.PI*2:l[i]<0&&(l[i]+=Math.PI*2);n.render(a,t)}I()});const P=window.AudioContext||window.webkitAudioContext;let s=null,d=null,u=null;const B=document.getElementById(\"presetSelect\"),S=document.getElementById(\"baseFreq\"),x=document.getElementById(\"binauralFreq\"),M=document.getElementById(\"playBtn\"),E=document.getElementById(\"stopBtn\"),z=document.getElementById(\"silentAudio\"),v={delta:{binaural:2.25,base:100},theta:{binaural:6,base:200},alpha:{binaural:10.5,base:400},beta:{binaural:21.5,base:500},gamma:{binaural:35,base:600}};B.addEventListener(\"change\",()=>{const e=B.value;e&&v[e]&&(S.value=v[e].base,x.value=v[e].binaural)});function A(e,n){const a=s.createOscillator();a.type=\"sine\",a.frequency.value=e;const t=s.createGain();t.gain.value=.5;const o=s.createStereoPanner();return o.pan.value=n,a.connect(t).connect(o).connect(s.destination),{osc:a,gainNode:t,panner:o}}function Y(){s||(s=new P),s.state===\"suspended\"&&s.resume();const e=Number(S.value),n=Number(x.value);if(e<30||e>1e3||n<.5||n>40){alert(\"Frequencies out of range\");return}const a=e,t=e+n,o=A(a,-1),r=A(t,1);d=o.osc,u=r.osc,d.start(),u.start(),z.play().catch(m=>console.error(\"Silent audio playback failed:\",m)),\"mediaSession\"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:\"Binaural Beats\",artist:\"Nymessence\"})),M.disabled=!0,E.disabled=!1}function Z(){d&&d.stop(),u&&u.stop(),d=null,u=null,z.pause(),M.disabled=!1,E.disabled=!0}M.addEventListener(\"click\",()=>{s||(s=new P),Y()});E.addEventListener(\"click\",()=>{Z()});\n//# sourceMappingURL=binaural2.js.map\n"],"names":["f","j","n","t","D","G","J","r","K","Q","T","V","X","L","k","H","N","O","U","W","C","R","p","w","i","h","I","P","B","z","A","Y","Z"],"mappings":"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"}