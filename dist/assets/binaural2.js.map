{"version":3,"file":"binaural2.js","sources":["../../assets/binaural2.js"],"sourcesContent":["import{z as H,R as N,O as k,P as D,H as O,D as W,a as j,N as G}from\"./three.module22.js\";const c=[[1,1,0,0],[1,-1,0,0],[-1,1,0,0],[-1,-1,0,0],[1,0,1,0],[1,0,-1,0],[-1,0,1,0],[-1,0,-1,0],[0,1,1,0],[0,1,-1,0],[0,-1,1,0],[0,-1,-1,0],[1,0,0,1],[1,0,0,-1],[-1,0,0,1],[-1,0,0,-1],[0,1,0,1],[0,1,0,-1],[0,-1,0,1],[0,-1,0,-1],[0,0,1,1],[0,0,1,-1],[0,0,-1,1],[0,0,-1,-1]],w=[];function R(e,t){let a=0;for(let n=0;n<4;n++){const o=e[n]-t[n];a+=o*o}return a}for(let e=0;e<c.length;e++)for(let t=e+1;t<c.length;t++)Math.abs(R(c[e],c[t])-2)<.01&&w.push([e,t]);function J(e,t,a){const n=Array(4).fill(0).map(()=>Array(4).fill(0));for(let o=0;o<4;o++)n[o][o]=1;return n[e][e]=Math.cos(a),n[e][t]=-Math.sin(a),n[t][e]=Math.sin(a),n[t][t]=Math.cos(a),n}function K(e,t){const a=[0,0,0,0];for(let n=0;n<4;n++)for(let o=0;o<4;o++)a[n]+=e[n][o]*t[o];return a}function Q(e,t){const a=Array(4).fill(0).map(()=>Array(4).fill(0));for(let n=0;n<4;n++)for(let o=0;o<4;o++)for(let i=0;i<4;i++)a[n][o]+=e[n][i]*t[i][o];return a}function T(e){let t=e[0];for(let a=1;a<e.length;a++)t=Q(t,e[a]);return t}const U=5,y=7;function X(e,t=U){let a=t-e[3];return a<.1&&(a=.1),new G(e[0]*t/a*y,e[1]*t/a*y,e[2]*t/a*y)}const Y=[[0,1],[0,2],[0,3],[1,2],[1,3],[2,3]];let l=[0,0,0,0,0,0],P=[];for(let e=0;e<6;e++)P[e]=(Math.random()*.001+3e-4)*(Math.random()<.5?1:-1);window.addEventListener(\"DOMContentLoaded\",()=>{const e=document.getElementById(\"bgCanvas\"),t=new H({canvas:e,alpha:!0});t.setSize(window.innerWidth,window.innerHeight),t.setClearColor(0,0);const a=new N,n=new k(45,window.innerWidth/window.innerHeight,.1,1e3);n.position.set(0,0,8),n.fov=60,n.updateProjectionMatrix(),window.addEventListener(\"resize\",()=>{t.setSize(window.innerWidth,window.innerHeight),n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix()});const o=new Float32Array(w.length*2*3),i=new D;i.setAttribute(\"position\",new O(o,3));const m=new W({color:16777215,opacity:.8,transparent:!0}),L=new j(i,m);a.add(L);function q(h){const f=c.map(r=>X(K(h,r)));for(let r=0;r<w.length;r++){const[p,F]=w[r],b=f[p],g=f[F];o[r*6+0]=b.x,o[r*6+1]=b.y,o[r*6+2]=b.z,o[r*6+3]=g.x,o[r*6+4]=g.y,o[r*6+5]=g.z}i.attributes.position.needsUpdate=!0}function B(){requestAnimationFrame(B);const h=Y.map((r,p)=>J(r[0],r[1],l[p])),f=T(h);q(f);for(let r=0;r<l.length;r++)l[r]+=P[r],l[r]>Math.PI*2?l[r]-=Math.PI*2:l[r]<0&&(l[r]+=Math.PI*2);t.render(a,n)}B()});const z=window.AudioContext||window.webkitAudioContext;let s=null,d=null,u=null;const A=document.getElementById(\"presetSelect\"),S=document.getElementById(\"baseFreq\"),x=document.getElementById(\"binauralFreq\"),M=document.getElementById(\"playBtn\"),E=document.getElementById(\"stopBtn\"),C=document.getElementById(\"silentAudio\"),v={delta:{binaural:2.25,base:100},theta:{binaural:6,base:200},alpha:{binaural:10.5,base:400},beta:{binaural:21.5,base:500},gamma:{binaural:35,base:600}};A.addEventListener(\"change\",()=>{const e=A.value;e&&v[e]&&(S.value=v[e].base,x.value=v[e].binaural)});function I(e,t){const a=s.createOscillator();a.type=\"sine\",a.frequency.value=e;const n=s.createGain();n.gain.value=.5;const o=s.createStereoPanner();return o.pan.value=t,a.connect(n).connect(o).connect(s.destination),{osc:a,gainNode:n,panner:o}}function Z(){s||(s=new z),s.state===\"suspended\"&&s.resume();const e=Number(S.value),t=Number(x.value);if(e<30||e>1e3||t<.5||t>40){alert(\"Frequencies out of range\");return}const a=e,n=e+t,o=I(a,-1),i=I(n,1);d=o.osc,u=i.osc,d.start(),u.start(),C.play().catch(m=>console.error(\"Silent audio playback failed:\",m)),\"mediaSession\"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:\"Binaural Beats\",artist:\"Nymessence\"})),M.disabled=!0,E.disabled=!1}function V(){d&&d.stop(),u&&u.stop(),d=null,u=null,C.pause(),M.disabled=!1,E.disabled=!0}M.addEventListener(\"click\",()=>{s||(s=new z),Z()});E.addEventListener(\"click\",()=>{V()});\n//# sourceMappingURL=binaural2.js.map\n"],"names":["c","R","i","T","U","X","G","Y","P","H","N","k","D","O","W","L","j","q","r","z","d","S","x","C","Z","V"],"mappings":"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"}