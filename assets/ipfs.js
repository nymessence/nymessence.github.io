import"./modulepreload-polyfill.js";import"./modulepreload-polyfill2.js";import{create as r}from"https://cdn.jsdelivr.net/npm/ipfs-http-client@59.0.0/+esm";const d=document.getElementById("dragArea"),i=document.getElementById("fileInput"),l=document.getElementById("uploadBtn"),a=document.getElementById("status"),o=document.getElementById("cid");let t=null;const c=r({url:"https://ipfs.infura.io:5001/api/v0"});d.addEventListener("dragover",e=>{e.preventDefault(),d.classList.add("active")});d.addEventListener("dragleave",()=>{d.classList.remove("active")});d.addEventListener("drop",e=>{e.preventDefault(),d.classList.remove("active");const n=e.dataTransfer.files;n.length&&(i.files=n,t=n[0],a.textContent=`${t.name} selected.`)});i.addEventListener("change",()=>{t=i.files[0],t&&(a.textContent=`${t.name} selected.`)});l.onclick=async()=>{if(!t){a.textContent="Please select a file first.";return}l.disabled=!0,a.textContent="Uploading...",o.textContent="";try{const e=await c.add(t,{wrapWithDirectory:!0});let n="";for await(const s of e)n=s.cid.toString();a.textContent="Upload complete!",o.textContent=n}catch(e){a.textContent="Upload failed: "+e.message}finally{l.disabled=!1,t=null}};
//# sourceMappingURL=ipfs.js.map
